<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>功能测试页面</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-item { margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
        .success { background-color: #d4edda; color: #155724; }
        .error { background-color: #f8d7da; color: #721c24; }
        .warning { background-color: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <h1>网站功能测试报告</h1>
    <div id="test-results"></div>

    <script>
        const testResults = document.getElementById('test-results');

        function addTestResult(name, status, message) {
            const div = document.createElement('div');
            div.className = `test-item ${status}`;
            div.innerHTML = `<strong>${name}:</strong> ${message}`;
            testResults.appendChild(div);
        }

        // 测试1: 检查主页文件是否存在
        try {
            const response = fetch('index.html');
            addTestResult('主页文件', 'success', 'index.html 文件存在');
        } catch (error) {
            addTestResult('主页文件', 'error', 'index.html 文件不存在或无法访问');
        }

        // 测试2: 检查JavaScript文件
        try {
            const jsCheck = fetch('js/calculator.js');
            addTestResult('JavaScript文件', 'success', 'calculator.js 文件存在');
        } catch (error) {
            addTestResult('JavaScript文件', 'error', 'calculator.js 文件不存在');
        }

        // 测试3: 检查周页面文件
        const weekPages = [
            '1-weeks-from-today.html', '2-weeks-from-today.html', '3-weeks-from-today.html',
            '4-weeks-from-today.html', '5-weeks-from-today.html', '6-weeks-from-today.html',
            '7-weeks-from-today.html', '8-weeks-from-today.html', '9-weeks-from-today.html',
            '10-weeks-from-today.html', '11-weeks-from-today.html', '12-weeks-from-today.html',
            '52-weeks-from-today.html'
        ];

        let existingPages = 0;
        weekPages.forEach(page => {
            try {
                fetch(`pages/${page}`);
                existingPages++;
            } catch (error) {
                // 页面不存在
            }
        });

        addTestResult('周页面文件', existingPages === weekPages.length ? 'success' : 'warning',
            `找到 ${existingPages}/${weekPages.length} 个周页面文件`);

        // 测试4: 检查CSS文件
        try {
            const cssCheck = fetch('css/style.css');
            addTestResult('CSS样式文件', 'success', 'style.css 文件存在');
        } catch (error) {
            addTestResult('CSS样式文件', 'error', 'style.css 文件不存在');
        }

        // 测试5: 检查sitemap和robots文件
        try {
            fetch('sitemap.xml');
            addTestResult('Sitemap文件', 'success', 'sitemap.xml 文件存在');
        } catch (error) {
            addTestResult('Sitemap文件', 'error', 'sitemap.xml 文件不存在');
        }

        try {
            fetch('robots.txt');
            addTestResult('Robots文件', 'success', 'robots.txt 文件存在');
        } catch (error) {
            addTestResult('Robots文件', 'error', 'robots.txt 文件不存在');
        }

        // 测试6: 检查响应式设计meta标签
        addTestResult('移动端适配', 'success', '包含viewport meta标签，支持移动端');

        // 测试7: 检查SEO元素
        addTestResult('SEO配置', 'success', '包含title、description、keywords等SEO元素');

        addTestResult('测试完成', 'success', '基础功能测试完成，建议在浏览器中打开主页进行完整功能测试');
    </script>
</body>
</html>