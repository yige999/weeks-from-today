<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weeks From Today Calculator | Calculate Any Future Date Instantly</title>
    <meta name="description" content="Calculate weeks from today with our free calculator. Find exact dates, plan schedules, and organize your life. Perfect for pregnancy tracking, project planning, and event scheduling.">
    <meta name="keywords" content="weeks from today, week calculator, date calculator, weeks from now, future date calculator, pregnancy calculator, due date calculator, project planning, schedule calculator, calendar calculator">

    <!-- Open Graph Tags -->
    <meta property="og:title" content="Weeks From Today Calculator | Calculate Any Future Date Instantly">
    <meta property="og:description" content="Calculate weeks from today with our free calculator. Perfect for pregnancy tracking, project planning, and event scheduling.">
    <meta property="og:type" content="website">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://weeksfromtodaycalculator.com/">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E📅%3C/text%3E%3C/svg%3E">


    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Weeks From Today Calculator",
        "description": "Calculate future dates by adding weeks to today's date",
        "url": "https://weeksfromtodaycalculator.com",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>

    <style>
        /* NEW IMPROVED COLOR SCHEME */
        :root {
            /* Primary Colors - Professional Blue Palette */
            --primary-color: #2563eb;
            --primary-hover: #1d4ed8;
            --primary-light: #dbeafe;

            /* Secondary Colors - Warm Accent */
            --secondary-color: #f59e0b;
            --secondary-hover: #d97706;

            /* Neutral Colors - Modern Gray Palette */
            --background: #ffffff;
            --surface: #f8fafc;
            --surface-hover: #f1f5f9;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-muted: #94a3b8;
            --border-color: #e2e8f0;
            --border-light: #f1f5f9;

            /* Status Colors */
            --success-color: #10b981;
            --success-light: #d1fae5;
            --warning-color: #f59e0b;
            --warning-light: #fed7aa;
            --error-color: #ef4444;
            --error-light: #fee2e2;

            /* Gradients - Subtle and Professional */
            --gradient-primary: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            --gradient-surface: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            --gradient-card: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);

            /* Shadows - Modern and Subtle */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

            /* Border Radius - Modern */
            --border-radius: 12px;
            --border-radius-sm: 8px;
            --border-radius-lg: 16px;

            /* Typography */
            --font-size-xs: 0.75rem;
            --font-size-sm: 0.875rem;
            --font-size-base: 1rem;
            --font-size-lg: 1.125rem;
            --font-size-xl: 1.25rem;
            --font-size-2xl: 1.5rem;
            --font-size-3xl: 1.875rem;
            --font-size-4xl: 2.25rem;
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            :root {
                --background: #0f172a;
                --surface: #1e293b;
                --surface-hover: #334155;
                --text-primary: #f1f5f9;
                --text-secondary: #cbd5e1;
                --text-muted: #94a3b8;
                --border-color: #334155;
                --border-light: #1e293b;
                --gradient-surface: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                --gradient-card: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--gradient-surface);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
            font-size: var(--font-size-base);
        }

        /* Language Selector */
        /* Language Selector - Modern Mobile-First Design */
        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .lang-switch {
            background: var(--background);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            padding: 8px 16px;
            font-size: var(--font-size-sm);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-sm);
            min-width: 120px;
            position: relative;
        }

        .lang-switch:hover {
            border-color: var(--primary-color);
            box-shadow: var(--shadow);
        }

        .lang-switch:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        /* Mobile Language Button - Alternative Design */
        .mobile-lang-btn {
            display: none;
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s ease;
        }

        .mobile-lang-btn:hover {
            background: var(--primary-hover);
            transform: scale(1.1);
        }

        /* Language Modal for Mobile */
        .lang-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        .lang-modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--background);
            border-radius: var(--border-radius-lg);
            padding: 30px;
            max-width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
        }

        .lang-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .lang-modal-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .lang-modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-secondary);
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .lang-modal-close:hover {
            background: var(--surface);
            color: var(--text-primary);
        }

        .lang-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }

        .lang-option {
            background: var(--surface);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            padding: 12px 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: var(--font-size-sm);
        }

        .lang-option:hover {
            border-color: var(--primary-color);
            background: rgba(79, 70, 229, 0.05);
        }

        .lang-option.active {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }

        .lang-flag {
            font-size: 20px;
            margin-bottom: 4px;
            display: block;
        }

        .lang-name {
            font-weight: 500;
            display: block;
        }

        .lang-native {
            font-size: var(--font-size-xs);
            opacity: 0.8;
            display: block;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 0 20px;
        }

        .header h1 {
            font-size: var(--font-size-4xl);
            font-weight: 700;
            margin-bottom: 12px;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: var(--font-size-lg);
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Main Container */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Glassmorphism Cards */
        .glass-card {
            background: var(--gradient-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-light);
            border-radius: var(--border-radius-lg);
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s ease;
        }

        .glass-card:hover {
            box-shadow: var(--shadow-xl);
            transform: translateY(-2px);
        }

        /* Calculator Section */
        .calculator-section {
            text-align: center;
        }

        .today-info {
            background: var(--primary-light);
            color: var(--primary-color);
            padding: 12px 20px;
            border-radius: var(--border-radius-sm);
            margin-bottom: 24px;
            font-size: var(--font-size-sm);
            font-weight: 500;
        }

        .input-section {
            margin-bottom: 24px;
        }

        .input-group {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .input-group label {
            font-weight: 500;
            font-size: var(--font-size-lg);
            color: var(--text-primary);
        }

        .weeks-input {
            width: 120px;
            padding: 12px 16px;
            font-size: var(--font-size-xl);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            text-align: center;
            background: var(--background);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .weeks-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .calculate-btn {
            background: var(--gradient-primary);
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: var(--font-size-lg);
            font-weight: 600;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }

        .calculate-btn:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        /* Results Section */
        .result-section {
            background: var(--gradient-primary);
            color: white;
            padding: 24px;
            border-radius: var(--border-radius-lg);
            text-align: center;
            margin-bottom: 24px;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .result-date {
            font-size: var(--font-size-2xl);
            font-weight: 700;
            margin-bottom: 8px;
        }

        .result-details {
            font-size: var(--font-size-lg);
            opacity: 0.9;
        }

        /* Quick Buttons */
        .quick-buttons {
            text-align: center;
        }

        .quick-buttons h3 {
            margin-bottom: 16px;
            color: var(--text-secondary);
            font-size: var(--font-size-base);
            font-weight: 500;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
            gap: 12px;
            max-width: 600px;
            margin: 0 auto;
        }

        .quick-btn {
            background: var(--background);
            border: 2px solid var(--border-color);
            padding: 12px;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: var(--font-size-base);
            color: var(--text-primary);
        }

        .quick-btn:hover {
            border-color: var(--primary-color);
            background: var(--primary-light);
            color: var(--primary-color);
            transform: translateY(-1px);
            box-shadow: var(--shadow);
        }

        /* Reference Table */
        .reference-section {
            background: var(--gradient-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-light);
            border-radius: var(--border-radius-lg);
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: var(--shadow-lg);
        }

        .reference-section h2 {
            margin-bottom: 20px;
            color: var(--text-primary);
            font-size: var(--font-size-2xl);
        }

        /* Content Section Styles */
        .content-section {
            background: var(--background);
            border-radius: var(--border-radius-lg);
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
        }

        .content-section h2 {
            margin-bottom: 24px;
            color: var(--primary-color);
            font-size: var(--font-size-3xl);
            font-weight: 700;
            line-height: 1.2;
        }

        .content-section h3 {
            margin: 32px 0 16px 0;
            color: var(--text-primary);
            font-size: var(--font-size-2xl);
            font-weight: 600;
        }

        .content-section h4 {
            margin: 24px 0 12px 0;
            color: var(--text-primary);
            font-size: var(--font-size-xl);
            font-weight: 600;
        }

        .content-section p {
            margin-bottom: 16px;
            color: var(--text-secondary);
            line-height: 1.7;
            font-size: var(--font-size-base);
        }

        .content-section ul {
            margin: 16px 0;
            padding-left: 20px;
            color: var(--text-secondary);
        }

        .content-section li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .uses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin: 32px 0;
        }

        .use-item {
            background: var(--surface);
            padding: 24px;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .use-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: var(--primary-light);
        }

        .use-item h4 {
            margin: 0 0 12px 0;
            color: var(--primary-color);
            font-size: var(--font-size-lg);
        }

        .use-item p {
            margin: 0;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .content-section {
                padding: 24px;
            }

            .content-section h2 {
                font-size: var(--font-size-2xl);
            }

            .uses-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
        }

        .table-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .table-btn {
            padding: 8px 16px;
            border: 1px solid var(--border-color);
            background: var(--background);
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: var(--font-size-sm);
        }

        .table-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .reference-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background: var(--background);
            border-radius: var(--border-radius-sm);
            overflow: hidden;
        }

        .reference-table th,
        .reference-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border-light);
        }

        .reference-table th {
            background: var(--surface);
            font-weight: 600;
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
        }

        .reference-table tr:hover {
            background: var(--surface-hover);
        }

        /* FAQ Section */
        .faq-section {
            background: var(--gradient-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-light);
            border-radius: var(--border-radius-lg);
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: var(--shadow-lg);
        }

        .faq-item {
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-light);
            padding-bottom: 20px;
        }

        .faq-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .faq-question {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--font-size-lg);
        }

        .faq-answer {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Language Specific Styles */
        .lang-zh .header h1 {
            font-size: var(--font-size-3xl);
        }

        .lang-zh .input-group label {
            font-size: var(--font-size-lg);
        }

        /* Footer */
        .footer {
            background: var(--gradient-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-light);
            border-radius: var(--border-radius-lg);
            padding: 32px;
            text-align: center;
            color: var(--text-secondary);
        }

        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 24px;
            margin-bottom: 24px;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s ease;
            font-weight: 500;
        }

        .footer-links a:hover {
            color: var(--primary-color);
        }

        .footer-legal {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-light);
        }

        .footer-legal a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: var(--font-size-sm);
            transition: color 0.3s ease;
        }

        .footer-legal a:hover {
            color: var(--primary-color);
        }


        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 16px;
            }

            .glass-card {
                padding: 24px;
            }

            .header h1 {
                font-size: var(--font-size-3xl);
            }

            .header p {
                font-size: var(--font-size-base);
            }

            .input-group {
                flex-direction: column;
                gap: 12px;
            }

            .weeks-input {
                width: 100%;
                max-width: 200px;
            }

            .button-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 8px;
            }

            .quick-btn {
                padding: 10px;
                font-size: var(--font-size-sm);
            }

            .table-controls {
                justify-content: center;
            }

            .footer-links {
                flex-direction: column;
                gap: 16px;
            }

            /* Mobile Language Switcher Styles */
            .language-selector {
                display: none; /* Hide dropdown on mobile */
            }

            .mobile-lang-btn {
                display: block; /* Show mobile button */
                top: 15px;
                right: 15px;
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .lang-modal-content {
                padding: 20px;
                max-width: 95%;
            }

            .lang-grid {
                grid-template-columns: repeat(2, 1fr); /* 2 columns on small screens */
                gap: 8px;
            }

            .lang-option {
                padding: 10px 5px;
            }

            .lang-flag {
                font-size: 18px;
            }

            .lang-name {
                font-size: var(--font-size-xs);
            }

            .lang-native {
                display: none; /* Hide native names on very small screens */
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Smooth transitions */
        * {
            transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }

        /* Animation for language change feedback */
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        /* Animation for modal */
        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .lang-modal-content {
            animation: modalFadeIn 0.3s ease;
        }
    </style>
</head>
<body class="lang-en">
    <!-- Language Selector - Desktop -->
    <div class="language-selector">
        <select class="lang-switch" id="languageSwitch" onchange="switchLanguage()">
            <option value="en">English</option>
            <option value="zh">中文</option>
            <option value="es">Español</option>
            <option value="fr">Français</option>
            <option value="de">Deutsch</option>
            <option value="ja">日本語</option>
            <option value="ko">한국어</option>
            <option value="ru">Русский</option>
            <option value="ar">العربية</option>
            <option value="pt">Português</option>
            <option value="it">Italiano</option>
            <option value="nl">Nederlands</option>
        </select>
    </div>

    <!-- Mobile Language Button -->
    <button class="mobile-lang-btn" id="mobileLangBtn" onclick="openLangModal()" title="Change Language">
        🌐
    </button>

    <!-- Language Modal for Mobile -->
    <div class="lang-modal" id="langModal">
        <div class="lang-modal-content">
            <div class="lang-modal-header">
                <h3 class="lang-modal-title" data-en="Choose Language" data-zh="选择语言" data-es="Elegir Idioma" data-fr="Choisir la Langue" data-de="Sprache Wählen" data-ja="言語を選択" data-ko="언어 선택" data-ru="Выбрать Язык" data-ar="اختر اللغة" data-pt="Escolher Idioma" data-it="Scegli Lingua" data-nl="Taal Kiezen">Choose Language</h3>
                <button class="lang-modal-close" onclick="closeLangModal()" aria-label="Close">×</button>
            </div>
            <div class="lang-grid">
                <div class="lang-option" data-lang="en" onclick="selectLanguage('en')">
                    <span class="lang-flag">🇺🇸</span>
                    <span class="lang-name">English</span>
                    <span class="lang-native">English</span>
                </div>
                <div class="lang-option" data-lang="zh" onclick="selectLanguage('zh')">
                    <span class="lang-flag">🇨🇳</span>
                    <span class="lang-name">中文</span>
                    <span class="lang-native">Chinese</span>
                </div>
                <div class="lang-option" data-lang="es" onclick="selectLanguage('es')">
                    <span class="lang-flag">🇪🇸</span>
                    <span class="lang-name">Español</span>
                    <span class="lang-native">Spanish</span>
                </div>
                <div class="lang-option" data-lang="fr" onclick="selectLanguage('fr')">
                    <span class="lang-flag">🇫🇷</span>
                    <span class="lang-name">Français</span>
                    <span class="lang-native">French</span>
                </div>
                <div class="lang-option" data-lang="de" onclick="selectLanguage('de')">
                    <span class="lang-flag">🇩🇪</span>
                    <span class="lang-name">Deutsch</span>
                    <span class="lang-native">German</span>
                </div>
                <div class="lang-option" data-lang="ja" onclick="selectLanguage('ja')">
                    <span class="lang-flag">🇯🇵</span>
                    <span class="lang-name">日本語</span>
                    <span class="lang-native">Japanese</span>
                </div>
                <div class="lang-option" data-lang="ko" onclick="selectLanguage('ko')">
                    <span class="lang-flag">🇰🇷</span>
                    <span class="lang-name">한국어</span>
                    <span class="lang-native">Korean</span>
                </div>
                <div class="lang-option" data-lang="ru" onclick="selectLanguage('ru')">
                    <span class="lang-flag">🇷🇺</span>
                    <span class="lang-name">Русский</span>
                    <span class="lang-native">Russian</span>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 data-en="Weeks From Today Calculator" data-zh="周数计算器" data-es="Calculadora de Semanas desde Hoy" data-fr="Calculateur de Semaines à Partir d'Aujourd'hui" data-de="Wochen-ab-heute-Rechner" data-ja="今日から週数計算機" data-ko="오늘로부터 주수 계산기" data-ru="Калькулятор Недель от Сегодня" data-ar="حاسبة الأسابيع من اليوم" data-pt="Calculadora de Semanas a Partir de Hoje" data-it="Calcolatore di Settimane da Oggi" data-nl="Weken-vanaf-vandaag-calculator">Weeks From Today Calculator</h1>
            <p data-en="Instantly calculate any date in the future by adding weeks to today's date" data-zh="快速计算从今日起任意周数的日期" data-es="Calcula instantáneamente cualquier fecha en el futuro agregando semanas a la fecha de hoy" data-fr="Calculez instantanément n'importe quelle date dans le futur en ajoutant des semaines à la date d'aujourd'hui" data-de="Berechnen Sie sofort jedes Datum in der Zukunft, indem Sie Wochen zum heutigen Datum hinzufügen" data-ja="今日の日付に週を加えることで、未来の任意の日付を瞬時に計算します" data-ko="오늘 날짜에 주를 추가하여 미래의 모든 날짜를 즉시 계산하세요" data-ru="Мгновенно рассчитайте любую дату в будущем, добавляя недели к сегодняшней дате" data-ar="أضف أسابيع إلى تاريخ اليوم لحساب أي تاريخ في المستقبل على الفور" data-pt="Calcule instantaneamente qualquer data no futuro adicionando semanas à data de hoje" data-it="Calcola istantaneamente qualsiasi data nel futuro aggiungendo settimane alla data di oggi" data-nl="Bereken direct elke datum in de toekomst door weken toe te voegen aan de datum van vandaag">Instantly calculate any date in the future by adding weeks to today's date</p>
        </header>

        <!-- Main Calculator -->
        <section class="glass-card calculator-section">
            <div class="today-info" id="todayInfo">
                <span data-en="Today is: " data-zh="今天是：">Today is: </span><span id="currentDate"></span>
            </div>

            <div class="input-section">
                <div class="input-group">
                    <label for="weeksInput" data-en="Number of weeks:" data-zh="周数：">Number of weeks:</label>
                    <input type="number" id="weeksInput" class="weeks-input" min="1" max="999999" value="4" placeholder="4">
                    <button class="calculate-btn" onclick="calculateWeeks()">
                        <span data-en="Calculate" data-zh="计算">Calculate</span>
                    </button>
                </div>
            </div>

            <div class="result-section" id="resultSection">
                <div class="result-date" id="resultDate">November 25, 2024</div>
                <div class="result-details" id="resultDetails">Monday • 28 days from now</div>
            </div>

            <div class="quick-buttons">
                <h3 data-en="Quick calculate:" data-zh="快速计算：">Quick calculate:</h3>
                <div class="button-grid">
                    <button class="quick-btn" onclick="setWeeks(2)">2</button>
                    <button class="quick-btn" onclick="setWeeks(4)">4</button>
                    <button class="quick-btn" onclick="setWeeks(6)">6</button>
                    <button class="quick-btn" onclick="setWeeks(8)">8</button>
                    <button class="quick-btn" onclick="setWeeks(12)">12</button>
                    <button class="quick-btn" onclick="setWeeks(16)">16</button>
                    <button class="quick-btn" onclick="setWeeks(20)">20</button>
                    <button class="quick-btn" onclick="setWeeks(24)">24</button>
                </div>
            </div>
        </section>

        <!-- Reference Table -->
        <section class="glass-card reference-section">
            <h2 data-en="Weeks From Today Reference Table" data-zh="周数参考表">Weeks From Today Reference Table</h2>
            <div class="table-controls">
                <button class="table-btn active" onclick="showTable('common', event)" data-en="Common (1-12)" data-zh="常用 (1-12)">Common (1-12)</button>
                <button class="table-btn" onclick="showTable('quarter', event)" data-en="Quarter (13-26)" data-zh="季度 (13-26)">Quarter (13-26)</button>
                <button class="table-btn" onclick="showTable('half', event)" data-en="Half Year (27-39)" data-zh="半年 (27-39)">Half Year (27-39)</button>
                <button class="table-btn" onclick="showTable('full', event)" data-en="Full Year (40-52)" data-zh="全年 (40-52)">Full Year (40-52)</button>
                <button class="table-btn" onclick="showTable('large1', event)" data-en="Large (53-104)" data-zh="大数 (53-104)">Large (53-104)</button>
                <button class="table-btn" onclick="showTable('large2', event)" data-en="Very Large (105-260)" data-zh="超大 (105-260)">Very Large (105-260)</button>
            </div>
            <div id="referenceTable"></div>
        </section>

        <!-- Content Section for SEO -->
        <section class="content-section">
            <h2 data-en="Weeks From Today Calculator: Your Ultimate Date Planning Tool" data-zh="周数计算器：您的终极日期规划工具">Weeks From Today Calculator: Your Ultimate Date Planning Tool</h2>

            <p data-en="Welcome to the most comprehensive weeks from today calculator online. Whether you're planning a pregnancy timeline, scheduling work projects, or organizing personal events, our calculator provides instant, accurate results for any number of weeks from today." data-zh="欢迎使用最全面的在线周数计算器。无论您正在规划怀孕时间表、安排工作项目，还是组织个人活动，我们的计算器都能为从今天起任意周数提供即时、准确的结果。">Welcome to the most comprehensive weeks from today calculator online. Whether you're planning a pregnancy timeline, scheduling work projects, or organizing personal events, our calculator provides instant, accurate results for any number of weeks from today.</p>

            <h3 data-en="Popular Uses for Our Week Calculator" data-zh="我们周计算器的热门用途">Popular Uses for Our Week Calculator</h3>

            <div class="uses-grid">
                <div class="use-item">
                    <h4 data-en="🤰 Pregnancy Planning" data-zh="🤰 怀孕规划">🤰 Pregnancy Planning</h4>
                    <p data-en="Calculate pregnancy milestones, due dates, and trimester timelines. Perfect for expectant parents tracking their pregnancy journey." data-zh="计算怀孕里程碑、预产期和孕周时间表。 perfect for准父母跟踪怀孕历程。">Calculate pregnancy milestones, due dates, and trimester timelines. Perfect for expectant parents tracking their pregnancy journey.</p>
                </div>
                <div class="use-item">
                    <h4 data-en="💼 Project Management" data-zh="💼 项目管理">💼 Project Management</h4>
                    <p data-en="Plan project deadlines, sprints, and milestones. Essential for project managers and teams working with weekly timelines." data-zh="规划项目截止日期、冲刺和里程碑。对于使用周时间表的项目经理和团队至关重要。">Plan project deadlines, sprints, and milestones. Essential for project managers and teams working with weekly timelines.</p>
                </div>
                <div class="use-item">
                    <h4 data-en="🎉 Event Planning" data-zh="🎉 活动策划">🎉 Event Planning</h4>
                    <p data-en="Schedule weddings, birthdays, vacations, and other important events. Plan ahead with confidence using our accurate date calculations." data-zh="安排婚礼、生日、假期和其他重要活动。使用我们准确的日期计算提前规划。">Schedule weddings, birthdays, vacations, and other important events. Plan ahead with confidence using our accurate date calculations.</p>
                </div>
                <div class="use-item">
                    <h4 data-en="🏃 Fitness Goals" data-zh="🏃 健身目标">🏃 Fitness Goals</h4>
                    <p data-en="Track fitness challenge timelines, workout programs, and training schedules. Stay motivated by knowing exactly when you'll reach your goals." data-zh="跟踪健身挑战时间表、锻炼计划和时间安排。通过准确了解何时达到目标来保持动力。">Track fitness challenge timelines, workout programs, and training schedules. Stay motivated by knowing exactly when you'll reach your goals.</p>
                </div>
            </div>

            <h3 data-en="How to Calculate Weeks From Today" data-zh="如何计算从今天起的周数">How to Calculate Weeks From Today</h3>
            <p data-en="Calculating weeks from today is simple with our tool. Just enter the number of weeks you want to calculate, and we'll instantly show you:" data-zh="使用我们的工具计算从今天起的周数很简单。只需输入您想计算的周数，我们会立即显示：">Calculating weeks from today is simple with our tool. Just enter the number of weeks you want to calculate, and we'll instantly show you:</p>
            <ul>
                <li data-en="The exact date (month, day, year)" data-zh="确切日期（月、日、年）">The exact date (month, day, year)</li>
                <li data-en="The day of the week (Monday, Tuesday, etc.)" data-zh="星期几（周一、周二等）">The day of the week (Monday, Tuesday, etc.)</li>
                <li data-en="Total number of days from today" data-zh="从今天起的总天数">Total number of days from today</li>
                <li data-en="Whether it's a weekend or weekday" data-zh="是周末还是工作日">Whether it's a weekend or weekday</li>
            </ul>
        </section>

        <!-- FAQ Section -->
        <section class="glass-card faq-section">
            <h2 data-en="Frequently Asked Questions" data-zh="常见问题">Frequently Asked Questions</h2>

            <div class="faq-item">
                <div class="faq-question" data-en="How do I calculate weeks from today?" data-zh="如何计算从今日起的周数？">
                    How do I calculate weeks from today?
                    <span style="margin-left: auto;"></span>
                </div>
                <div class="faq-answer" data-en="Simply enter the number of weeks in the calculator above and click \"Calculate\" or use one of the quick buttons. The result will show you the exact date, day of the week, and how many days away it is." data-zh="只需在上方的计算器中输入周数，然后点击\"计算\"按钮，或使用快速计算按钮。结果将显示确切的日期、星期几以及距离现在的天数。">
                    Simply enter the number of weeks in the calculator above and click "Calculate" or use one of the quick buttons. The result will show you the exact date, day of the week, and how many days away it is.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" data-en="What is 4 weeks from today?" data-zh="4周后是哪一天？">
                    What is 4 weeks from today?
                    <span style="margin-left: auto;"></span>
                </div>
                <div class="faq-answer" data-en="4 weeks from today is exactly 28 days from now. You can use our calculator above to find the exact date and day of the week." data-zh="4周后正好是28天后。您可以使用上方的计算器找到确切的日期和星期几。">
                    4 weeks from today is exactly 28 days from now. You can use our calculator above to find the exact date and day of the week.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" data-en="How many days are in 4 weeks?" data-zh="4周有多少天？">
                    How many days are in 4 weeks?
                    <span style="margin-left: auto;"></span>
                </div>
                <div class="faq-answer" data-en="There are exactly 28 days in 4 weeks, since each week has 7 days (4 × 7 = 28)." data-zh="4周正好有28天，因为每周有7天（4 × 7 = 28）。">
                    There are exactly 28 days in 4 weeks, since each week has 7 days (4 × 7 = 28).
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" data-en="Can I calculate weeks from any date?" data-zh="我可以从任意日期开始计算周数吗？">
                    Can I calculate weeks from any date?
                    <span style="margin-left: auto;"></span>
                </div>
                <div class="faq-answer" data-en="This calculator specifically calculates weeks from today's date. For calculations from other dates, you would need a different date calculator tool." data-zh="此计算器专门计算从今日起的周数。如需从其他日期开始计算，您需要使用不同的日期计算器工具。">
                    This calculator specifically calculates weeks from today's date. For calculations from other dates, you would need a different date calculator tool.
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-links">
                <a href="2-weeks-from-today.html" data-en="2 Weeks" data-zh="2周" data-es="2 Semanas" data-fr="2 Semaines" data-de="2 Wochen" data-ja="2週間" data-ko="2주" data-ru="2 Недели" data-ar="2 أسبوع" data-pt="2 Semanas" data-it="2 Settimane" data-nl="2 Weken">2 Weeks</a>
                <a href="4-weeks-from-today.html" data-en="4 Weeks" data-zh="4周" data-es="4 Semanas" data-fr="4 Semaines" data-de="4 Wochen" data-ja="4週間" data-ko="4주" data-ru="4 Недели" data-ar="4 أسابيع" data-pt="4 Semanas" data-it="4 Settimane" data-nl="4 Weken">4 Weeks</a>
                <a href="6-weeks-from-today.html" data-en="6 Weeks" data-zh="6周" data-es="6 Semanas" data-fr="6 Semaines" data-de="6 Wochen" data-ja="6週間" data-ko="6주" data-ru="6 Недель" data-ar="6 أسابيع" data-pt="6 Semanas" data-it="6 Settimane" data-nl="6 Weken">6 Weeks</a>
                <a href="8-weeks-from-today.html" data-en="8 Weeks" data-zh="8周" data-es="8 Semanas" data-fr="8 Semaines" data-de="8 Wochen" data-ja="8週間" data-ko="8주" data-ru="8 Недель" data-ar="8 أسابيع" data-pt="8 Semanas" data-it="8 Settimane" data-nl="8 Weken">8 Weeks</a>
                <a href="12-weeks-from-today.html" data-en="12 Weeks" data-zh="12周" data-es="12 Semanas" data-fr="12 Semaines" data-de="12 Wochen" data-ja="12週間" data-ko="12주" data-ru="12 Недель" data-ar="12 أسبوع" data-pt="12 Semanas" data-it="12 Settimane" data-nl="12 Weken">12 Weeks</a>
                <a href="16-weeks-from-today.html" data-en="16 Weeks" data-zh="16周" data-es="16 Semanas" data-fr="16 Semaines" data-de="16 Wochen" data-ja="16週間" data-ko="16주" data-ru="16 Недель" data-ar="16 أسبوع" data-pt="16 Semanas" data-it="16 Settimane" data-nl="16 Weken">16 Weeks</a>
                <a href="20-weeks-from-today.html" data-en="20 Weeks" data-zh="20周" data-es="20 Semanas" data-fr="20 Semaines" data-de="20 Wochen" data-ja="20週間" data-ko="20주" data-ru="20 Недель" data-ar="20 أسبوع" data-pt="20 Semanas" data-it="20 Settimane" data-nl="20 Weken">20 Weeks</a>
                <a href="24-weeks-from-today.html" data-en="24 Weeks" data-zh="24周" data-es="24 Semanas" data-fr="24 Semaines" data-de="24 Wochen" data-ja="24週間" data-ko="24주" data-ru="24 Недели" data-ar="24 أسبوع" data-pt="24 Semanas" data-it="24 Settimane" data-nl="24 Weken">24 Weeks</a>
            </div>
            <div class="footer-legal">
                <a href="feedback.html" data-en="Feedback" data-zh="反馈" data-es="Comentarios" data-fr="Commentaires" data-de="Feedback" data-ja="フィードバック" data-ko="피드백" data-ru="Обратная связь" data-ar="ملاحظات" data-pt="Comentários" data-it="Feedback" data-nl="Feedback">Feedback</a>
                <a href="privacy-policy.html" data-en="Privacy Policy" data-zh="隐私政策" data-es="Política de Privacidad" data-fr="Politique de Confidentialité" data-de="Datenschutzrichtlinie" data-ja="プライバシーポリシー" data-ko="개인정보 보호정책" data-ru="Политика Конфиденциальности" data-ar="سياسة الخصوصية" data-pt="Política de Privacidade" data-it="Informativa sulla Privacy" data-nl="Privacybeleid">Privacy Policy</a>
                <a href="terms-of-service.html" data-en="Terms of Service" data-zh="使用条款" data-es="Términos de Servicio" data-fr="Conditions d'Utilisation" data-de="Nutzungsbedingungen" data-ja="利用規約" data-ko="이용 약관" data-ru="Условия Использования" data-ar="شروط الخدمة" data-pt="Termos de Serviço" data-it="Termini di Servizio" data-nl="Gebruiksvoorwaarden">Terms of Service</a>
            </div>
            <p><span data-en="© 2024 Weeks From Today Calculator. All rights reserved." data-zh="© 2024 周数计算器. 保留所有权利." data-es="© 2024 Calculadora de Semanas desde Hoy. Todos los derechos reservados." data-fr="© 2024 Calculateur de Semaines à Partir d'Aujourd'hui. Tous droits réservés." data-de="© 2024 Wochen-ab-heute-Rechner. Alle Rechte vorbehalten." data-ja="© 2024 今日から週数計算機. All rights reserved." data-ko="© 2024 오늘로부터 주수 계산기. All rights reserved." data-ru="© 2024 Калькулятор Недель от Сегодня. Все права защищены." data-ar="© 2024 حاسبة الأسابيع من اليوم. جميع الحقوق محفوظة." data-pt="© 2024 Calculadora de Semanas a Partir de Hoje. Todos os direitos reservados." data-it="© 2024 Calcolatore di Settimane da Oggi. Tutti i diritti riservati." data-nl="© 2024 Weken-vanaf-vandaag-calculator. Alle rechten voorbehouden.">© 2024 Weeks From Today Calculator. All rights reserved.</span></p>
        </footer>
    </div>

    <script>
        // Language switching functionality
        const translations = {
            en: {
                title: "Weeks From Today Calculator | Calculate Any Future Date Instantly",
                description: "Calculate weeks from today with our free calculator. Perfect for pregnancy tracking, project planning, and event scheduling. Get accurate dates instantly."
            },
            zh: {
                title: "周数计算器 - 即时结果",
                description: "快速计算从今日起任意周数的日期。找到确切的日期、星期几和距离天数。快速、准确且移动友好。"
            },
            es: {
                title: "Calculadora de Semanas desde Hoy - Resultados Instantáneos",
                description: "Calcula instantáneamente cualquier número de semanas desde hoy. Encuentra la fecha exacta, el día de la semana y los días desde ahora. Rápido, preciso y amigable para móviles."
            },
            fr: {
                title: "Calculateur de Semaines à Partir d'Aujourd'hui - Résultats Instantanés",
                description: "Calculez instantanément n'importe quel nombre de semaines à partir d'aujourd'hui. Trouvez la date exacte, le jour de la semaine et le nombre de jours à partir de maintenant. Rapide, précis et mobile-friendly."
            },
            de: {
                title: "Wochen-ab-heute-Rechner - Sofortige Ergebnisse",
                description: "Berechnen Sie sofort jede Anzahl von Wochen ab heute. Finden Sie das genaue Datum, den Wochentag und die Tage von jetzt an. Schnell, genau und mobilfreundlich."
            },
            ja: {
                title: "今日から週数計算機 - 瞬時結果",
                description: "今日から任意の週数を瞬時に計算。正確な日付、曜日、そして今日からの日数を見つけます。高速、正確、モバイルフレンドリー。"
            },
            ko: {
                title: "오늘로부터 주수 계산기 - 즉시 결과",
                description: "오늘로부터 몇 주를 즉시 계산하세요. 정확한 날짜, 요일 및 지금으로부터 며칠인지 찾아보세요. 빠르고 정확하며 모바일 친화적입니다."
            },
            ru: {
                title: "Калькулятор Недель от Сегодня - Мгновенные Результаты",
                description: "Мгновенно рассчитайте любое количество недель от сегодня. Найдите точную дату, день недели и количество дней от текущего момента. Быстро, точно и удобно для мобильных устройств."
            },
            ar: {
                title: "حاسبة الأسابيع من اليوم - نتائج فورية",
                description: "احسب على الفور أي عدد من الأسابيع من اليوم. اعثر على التاريخ الدقيق، يوم الأسبوع والأيام من الآن. سريع، دقيق وصديق للموبايل."
            },
            pt: {
                title: "Calculadora de Semanas a Partir de Hoje - Resultados Instantâneos",
                description: "Calcule instantaneamente qualquer número de semanas a partir de hoje. Encontre a data exata, dia da semana e dias a partir de agora. Rápido, preciso e amigável para celular."
            },
            it: {
                title: "Calcolatore di Settimane da Oggi - Risultati Istantanei",
                description: "Calcola istantaneamente qualsiasi numero di settimane da oggi. Trova la data esatta, il giorno della settimana e i giorni da adesso. Veloce, accurato e mobile-friendly."
            },
            nl: {
                title: "Weken-vanaf-vandaag-calculator - Directe Resultaten",
                description: "Bereken direct elk aantal weken vanaf vandaag. Vind de exacte datum, dag van de week en dagen vanaf nu. Snel, accuraat en mobielvriendelijk."
            }
        };

        // Mobile Language Switcher Functions
        function openLangModal() {
            document.getElementById('langModal').style.display = 'block';
            document.body.style.overflow = 'hidden'; // Prevent background scrolling

            // Update active state based on current language
            const currentLang = document.getElementById('languageSwitch').value;
            updateLangModalActive(currentLang);
        }

        function closeLangModal() {
            document.getElementById('langModal').style.display = 'none';
            document.body.style.overflow = ''; // Restore scrolling
        }

        function selectLanguage(lang) {
            // Update the desktop dropdown
            document.getElementById('languageSwitch').value = lang;

            // Switch language
            switchLanguage();

            // Close modal
            closeLangModal();

            // Show feedback
            showLangChangeFeedback(lang);
        }

        function updateLangModalActive(lang) {
            // Remove active class from all options
            document.querySelectorAll('.lang-option').forEach(option => {
                option.classList.remove('active');
            });

            // Add active class to selected option
            const selectedOption = document.querySelector(`[data-lang="${lang}"]`);
            if (selectedOption) {
                selectedOption.classList.add('active');
            }
        }

        function showLangChangeFeedback(lang) {
            // Create temporary feedback element
            const feedback = document.createElement('div');
            feedback.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: var(--success-color, #10b981);
                color: white;
                padding: 12px 16px;
                border-radius: 8px;
                font-size: 14px;
                z-index: 1001;
                box-shadow: var(--shadow-lg);
                animation: slideInRight 0.3s ease;
            `;

            const langNames = {
                'en': 'English', 'zh': '中文', 'es': 'Español', 'fr': 'Français',
                'de': 'Deutsch', 'ja': '日本語', 'ko': '한국어', 'ru': 'Русский',
                'ar': 'العربية', 'pt': 'Português', 'it': 'Italiano', 'nl': 'Nederlands'
            };

            feedback.textContent = `Language changed to ${langNames[lang]}`;
            document.body.appendChild(feedback);

            // Remove after 2 seconds
            setTimeout(() => {
                feedback.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => {
                    if (feedback.parentNode) {
                        feedback.parentNode.removeChild(feedback);
                    }
                }, 300);
            }, 2000);
        }

        // Close modal when clicking outside
        document.getElementById('langModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLangModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('langModal').style.display === 'block') {
                closeLangModal();
            }
        });

        function switchLanguage() {
            const lang = document.getElementById('languageSwitch').value;
            const body = document.body;

            // Update body class
            body.className = `lang-${lang}`;

            // Update page title and description
            document.title = translations[lang].title;
            document.querySelector('meta[name="description"]').content = translations[lang].description;

            // Update all elements with data attributes
            const elements = document.querySelectorAll('[data-en][data-zh]');
            elements.forEach(element => {
                if (element.tagName === 'INPUT' && element.type === 'placeholder') {
                    element.placeholder = element.getAttribute(`data-${lang}`);
                } else {
                    element.textContent = element.getAttribute(`data-${lang}`);
                }
            });

            // Update today's date with new language
            updateToday();

            // Recalculate with new language
            calculateWeeks();

            // Save language preference
            localStorage.setItem('preferredLanguage', lang);
        }

        // Load saved language preference
        function loadLanguagePreference() {
            const savedLang = localStorage.getItem('preferredLanguage') || 'en';
            document.getElementById('languageSwitch').value = savedLang;

            // Update modal active state
            updateLangModalActive(savedLang);

            switchLanguage();
        }

        // Calculator Functions
        function updateToday() {
            console.log('updateToday called');
            const today = new Date();

            // 检查元素是否存在
            const currentDateElement = document.getElementById('currentDate');
            if (!currentDateElement) {
                console.error('currentDate element not found');
                return;
            }

            try {
                // 尝试获取语言，如果不存在则默认为英语
                const langElement = document.getElementById('languageSwitch');
                const lang = langElement ? langElement.value : 'en';
                console.log('Language:', lang);

                // 多语言日期格式
                const dateFormats = {
                    'zh': () => {
                        const year = today.getFullYear();
                        const month = today.getMonth() + 1;
                        const day = today.getDate();
                        const weekdays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];
                        const weekday = weekdays[today.getDay()];
                        return `${year}年${month}月${day}日 ${weekday}`;
                    },
                    'es': () => {
                        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                        return today.toLocaleDateString('es-ES', options);
                    },
                    'fr': () => {
                        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                        return today.toLocaleDateString('fr-FR', options);
                    },
                    'de': () => {
                        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                        return today.toLocaleDateString('de-DE', options);
                    },
                    'ja': () => {
                        const year = today.getFullYear();
                        const month = today.getMonth() + 1;
                        const day = today.getDate();
                        const weekdays = ['日曜日', '月曜日', '火曜日', '水曜日', '木曜日', '金曜日', '土曜日'];
                        const weekday = weekdays[today.getDay()];
                        return `${year}年${month}月${day}日 ${weekday}`;
                    },
                    'ko': () => {
                        const year = today.getFullYear();
                        const month = today.getMonth() + 1;
                        const day = today.getDate();
                        const weekdays = ['일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일'];
                        const weekday = weekdays[today.getDay()];
                        return `${year}년 ${month}월 ${day}일 ${weekday}`;
                    },
                    'ru': () => {
                        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                        return today.toLocaleDateString('ru-RU', options);
                    },
                    'ar': () => {
                        // 阿拉伯语从右到左，需要特殊处理
                        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                        return today.toLocaleDateString('ar-SA', options);
                    },
                    'pt': () => {
                        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                        return today.toLocaleDateString('pt-BR', options);
                    },
                    'it': () => {
                        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                        return today.toLocaleDateString('it-IT', options);
                    },
                    'nl': () => {
                        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                        return today.toLocaleDateString('nl-NL', options);
                    },
                    'default': () => {
                        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                        return today.toLocaleDateString('en-US', options);
                    }
                };

                const dateFormatter = dateFormats[lang] || dateFormats['default'];
                currentDateElement.textContent = dateFormatter();
                console.log('Date updated to:', currentDateElement.textContent);
            } catch (error) {
                console.error('Error updating date:', error);
                // 备用方案
                currentDateElement.textContent = today.toLocaleDateString();
            }
        }

        function calculateWeeks() {
            const weeks = parseInt(document.getElementById('weeksInput').value) || 0;
            const lang = document.getElementById('languageSwitch').value;

            if (weeks < 1 || weeks > 999999) {
                if (lang === 'zh') {
                    document.getElementById('resultDate').textContent = '请输入1-999999周';
                } else {
                    document.getElementById('resultDate').textContent = 'Please enter 1-999999 weeks';
                }
                document.getElementById('resultDetails').textContent = '';
                return;
            }

            const today = new Date();
            const futureDate = new Date(today);
            futureDate.setDate(today.getDate() + (weeks * 7));

            const daysDiff = Math.floor((futureDate - today) / (1000 * 60 * 60 * 24));

            if (lang === 'zh') {
                // Chinese formatting
                const year = futureDate.getFullYear();
                const month = futureDate.getMonth() + 1;
                const day = futureDate.getDate();
                const weekdays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];
                const weekday = weekdays[futureDate.getDay()];

                document.getElementById('resultDate').textContent = `${year}年${month}月${day}日 ${weekday}`;
                document.getElementById('resultDetails').textContent = `${daysDiff}天后`;
            } else if (lang === 'ja') {
                // Japanese formatting
                const year = futureDate.getFullYear();
                const month = futureDate.getMonth() + 1;
                const day = futureDate.getDate();
                const weekdays = ['日曜日', '月曜日', '火曜日', '水曜日', '木曜日', '金曜日', '土曜日'];
                const weekday = weekdays[futureDate.getDay()];

                document.getElementById('resultDate').textContent = `${year}年${month}月${day}日 ${weekday}`;
                document.getElementById('resultDetails').textContent = `${daysDiff}日後`;
            } else if (lang === 'ko') {
                // Korean formatting
                const year = futureDate.getFullYear();
                const month = futureDate.getMonth() + 1;
                const day = futureDate.getDate();
                const weekdays = ['일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일'];
                const weekday = weekdays[futureDate.getDay()];

                document.getElementById('resultDate').textContent = `${year}년 ${month}월 ${day}일 ${weekday}`;
                document.getElementById('resultDetails').textContent = `${daysDiff}일 후`;
            } else {
                // Use locale-specific formatting for other languages
                const localeMap = {
                    'es': 'es-ES',
                    'fr': 'fr-FR',
                    'de': 'de-DE',
                    'ru': 'ru-RU',
                    'ar': 'ar-SA',
                    'pt': 'pt-BR',
                    'it': 'it-IT',
                    'nl': 'nl-NL',
                    'en': 'en-US'
                };

                const locale = localeMap[lang] || 'en-US';
                const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                const resultDateStr = futureDate.toLocaleDateString(locale, dateOptions);

                document.getElementById('resultDate').textContent = resultDateStr;

                // Localized "days from now" text
                const daysTextMap = {
                    'es': 'días desde hoy',
                    'fr': 'jours à partir de maintenant',
                    'de': 'Tage von jetzt',
                    'ru': 'дней от сегодня',
                    'ar': 'أيام من الآن',
                    'pt': 'dias a partir de agora',
                    'it': 'giorni da ora',
                    'nl': 'dagen vanaf nu'
                };

                const daysText = daysTextMap[lang] || 'days from now';
                document.getElementById('resultDetails').textContent = `${daysDiff} ${daysText}`;
            }

            // Update FAQ with current calculation
            if (weeks === 4) {
                if (lang === 'zh') {
                    document.getElementById('fourWeeksResult').textContent = `${futureDate.getFullYear()}年${futureDate.getMonth() + 1}月${futureDate.getDate()}日`;
                } else {
                    document.getElementById('fourWeeksResult').textContent = resultDateStr;
                }
            }
        }

        function setWeeks(weeks) {
            document.getElementById('weeksInput').value = weeks;
            calculateWeeks();
        }

        // Reference Table Functions
        function generateTable(startWeek, endWeek) {
            let tableHTML = '<table class="reference-table">';
            tableHTML += '<thead><tr><th data-en="Weeks" data-zh="周数">Weeks</th><th data-en="Date" data-zh="日期">Date</th><th data-en="Day" data-zh="星期">Day</th><th data-en="Days Away" data-zh="天数">Days Away</th></tr></thead>';
            tableHTML += '<tbody>';

            const today = new Date();
            const lang = document.getElementById('languageSwitch').value;

            for (let week = startWeek; week <= endWeek; week++) {
                const futureDate = new Date(today);
                futureDate.setDate(today.getDate() + (week * 7));
                const daysDiff = week * 7;

                let dateStr, dayStr;

                if (lang === 'zh') {
                    // Chinese formatting
                    const year = futureDate.getFullYear();
                    const month = futureDate.getMonth() + 1;
                    const day = futureDate.getDate();
                    const weekdays = ['日', '一', '二', '三', '四', '五', '六'];
                    const weekday = weekdays[futureDate.getDay()];

                    dateStr = `${month}月${day}日`;
                    dayStr = `周${weekday}`;
                } else if (lang === 'ja') {
                    // Japanese formatting
                    const year = futureDate.getFullYear();
                    const month = futureDate.getMonth() + 1;
                    const day = futureDate.getDate();
                    const weekdays = ['日', '月', '火', '水', '木', '金', '土'];
                    const weekday = weekdays[futureDate.getDay()];

                    dateStr = `${month}月${day}日`;
                    dayStr = `${weekday}曜日`;
                } else if (lang === 'ko') {
                    // Korean formatting
                    const year = futureDate.getFullYear();
                    const month = futureDate.getMonth() + 1;
                    const day = futureDate.getDate();
                    const weekdays = ['일', '월', '화', '수', '목', '금', '토'];
                    const weekday = weekdays[futureDate.getDay()];

                    dateStr = `${month}월 ${day}일`;
                    dayStr = `${weekday}요일`;
                } else {
                    // Use locale-specific formatting for other languages
                    const localeMap = {
                        'es': 'es-ES',
                        'fr': 'fr-FR',
                        'de': 'de-DE',
                        'ru': 'ru-RU',
                        'ar': 'ar-SA',
                        'pt': 'pt-BR',
                        'it': 'it-IT',
                        'nl': 'nl-NL',
                        'en': 'en-US'
                    };

                    const locale = localeMap[lang] || 'en-US';
                    const dateOptions = { month: 'short', day: 'numeric' };
                    const dayOptions = { weekday: 'short' };

                    dateStr = futureDate.toLocaleDateString(locale, dateOptions);
                    dayStr = futureDate.toLocaleDateString(locale, dayOptions);
                }

                tableHTML += `<tr onclick="setWeeks(${week})" style="cursor: pointer;" onmouseover="this.style.background='var(--surface-hover)'" onmouseout="this.style.background=''">`;
                tableHTML += `<td>${week}</td>`;
                tableHTML += `<td>${dateStr}</td>`;
                tableHTML += `<td>${dayStr}</td>`;
                tableHTML += `<td>${daysDiff}</td>`;
                tableHTML += '</tr>';
            }

            tableHTML += '</tbody></table>';
            return tableHTML;
        }

        function showTable(type, event) {
            // Update active button
            document.querySelectorAll('.table-btn').forEach(btn => btn.classList.remove('active'));
            if (event && event.target) {
                event.target.classList.add('active');
            } else {
                // 如果是初始化调用，设置第一个按钮为active
                document.querySelector('.table-btn').classList.add('active');
            }

            let startWeek, endWeek;
            switch(type) {
                case 'common':
                    startWeek = 1; endWeek = 12; break;
                case 'quarter':
                    startWeek = 13; endWeek = 26; break;
                case 'half':
                    startWeek = 27; endWeek = 39; break;
                case 'full':
                    startWeek = 40; endWeek = 52; break;
                case 'large1':
                    startWeek = 53; endWeek = 104; break;
                case 'large2':
                    startWeek = 105; endWeek = 260; break;
            }

            document.getElementById('referenceTable').innerHTML = generateTable(startWeek, endWeek);
        }

        // Event Listeners
        document.getElementById('weeksInput').addEventListener('input', calculateWeeks);
        document.getElementById('weeksInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                calculateWeeks();
            }
        });

        // Initialize
        function initializeApp() {
            console.log('Initializing app...');
            try {
                // 简单的日期更新，不依赖其他功能
                const today = new Date();
                const currentDateElement = document.getElementById('currentDate');
                if (currentDateElement) {
                    currentDateElement.textContent = today.toLocaleDateString('en-US', {
                        weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
                    });
                    console.log('Initial date set:', currentDateElement.textContent);
                }

                // 加载其他功能
                loadLanguagePreference();
                calculateWeeks();
                showTable('common');
                console.log('App initialized successfully');
            } catch (error) {
                console.error('初始化错误:', error);
            }
        }

        // 确保DOM加载完成后初始化
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeApp);
        } else {
            initializeApp();
        }

        // Auto-update today date every minute
        setInterval(updateToday, 60000);
    </script>
</body>
</html>